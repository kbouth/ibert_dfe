------------------------------------------------------------------------------
--          ____  _____________  __                                         --
--         / __ \/ ____/ ___/\ \/ /                 _   _   _               --
--        / / / / __/  \__ \  \  /                 / \ / \ / \              --
--       / /_/ / /___ ___/ /  / /               = ( M | S | K )=            --
--      /_____/_____//____/  /_/                   \_/ \_/ \_/              --
--                                                                          --
------------------------------------------------------------------------------
-- @copyright Copyright 2018-2024 DESY
-- SPDX-License-Identifier: CERN-OHL-W-2.0
------------------------------------------------------------------------------
-- @author FWK (Generated)
------------------------------------------------------------------------------
-- @brief This VHDL package is generated automatically by FWK using Jinja2 Template Engine
-- Each Module that gets added to the FWK project can have a "Config" variable
-- inside its namespace (eg. ::fwfwk::src:daq)
-- FWK takes the Config variable from this namespace and exports it to a HDL file
-- such that FPGA logic can use these Configuration

-- This file is automatically generated on:
-- @date {{ date }}
-- @timestamp {{ time }}
------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

package pkg_{{ moduleName }}_config is

  type t_natural_vector_cfg is array (natural range <>) of natural;

{%- for key, value in Config.items() -%}
    {%- if key.startswith('list_') -%}
        {%- set vector_length = Config[key]|length %}

  constant {{ key[5:] }} : t_natural_vector_cfg({{ vector_length }}-1 downto 0) := {{ value|replace('[', '(')|replace(']', ')') }};

    {%- elif value.startswith('0x') -%}
        {%- set modified_parameter = '16#' + value[2:] + '#' %}

  constant {{ key }} : natural := {{ modified_parameter }};

    {%- elif key.startswith('string_') -%}
        {%- set modified_parameter = '"' + value + '"' %}

  constant {{ key[7:] }} : string := {{ modified_parameter }};

    {%- else -%}
        {%- set modified_parameter = value %}

  constant {{ key }} : natural := {{ modified_parameter }};

    {%- endif -%}
{%- endfor %}

end package pkg_{{ moduleName }}_config;


